{"version":3,"sources":["Contexts/AuthContext.js","components/Auth/Auth.jsx","components/Nav/Nav.jsx","components/Modal/Modal.jsx","Forms/fields.js","hooks/useToken.js","hooks/useFetch.js","hooks/useApi.js","hooks/useForm.js","components/Hide/Hide.jsx","hooks/useList.js","Forms/Fields/SelectField.jsx","Forms/Fields/NormalField.jsx","Forms/Fields/CheckField.jsx","Forms/Form/Form.jsx","Forms/ModelForm.jsx","components/AuthIn/AuthIn.jsx","components/MarkCreate/MarkCreate.jsx","components/StudentMarks/StudentMarks.jsx","components/ShowMark/ShowMark.jsx","components/MarkList/MarkList.jsx","components/MarkView/MarkView.jsx","pages/Home/Home.jsx","Forms/UserInfoForm.jsx","Forms/PasswordForm.jsx","pages/Account/Account.jsx","components/AuthAdmin/AuthAdmin.jsx","components/TagList/TagList.jsx","components/DetailList/DetailList.jsx","components/ShowStudent/ShowStudent.jsx","components/Student/Student.jsx","components/StudentList/StudentList.jsx","components/ShowTeacher/ShowTeacher.jsx","components/Teacher/Teacher.jsx","components/TeacherList/TeacherList.jsx","components/ShowDepartment/ShowDepartment.jsx","components/Department/Department.jsx","components/DepartmentList/DepartmentList.jsx","components/ShowModule/ShowModule.jsx","components/ModuleMarks/ModuleMarks.jsx","components/Module/Module.jsx","components/ModuleList/ModuleList.jsx","pages/View/View.jsx","Contexts/MessageContext.js","pages/Auth/Login.jsx","App.js","index.js"],"names":["AuthContext","React","createContext","AuthUpdateContext","useUser","useContext","useUserUpdate","UserProvider","children","useState","user","setUser","Provider","value","Auth","userType","hasUserType","Boolean","type","Fragment","Nav","className","to","useModal","showModal","setShowModal","show","toggleModal","prev","hideModal","Modal","onHide","Component","wasShown","setWasShown","useEffect","ReactDOM","createPortal","onClick","e","target","classList","contains","document","getElementById","fields","department","name","label","module","code","credits","teacher_id","options","foculty_id","student","email","phone","index_number","password","password_confirmation","teacher","marks","module_id","student_id","formative","summative","academic_year","semester","login","user_type","remember_me","register","current_password","change_info","normalizeFields","fieldsClone","Object","keys","forEach","group","prop","field","errors","getClone","key","clone","k","useToken","getToken","localStorage","getItem","saveToken","token","setItem","removeToken","removeItem","hasToken","useFetch","loading","setLoading","request","url","a","authHeader","headers","fetch","then","res","ok","console","warn","Promise","resolve","catch","err","alert","get","post","method","put","del","useApi","resource","custom","URL","index","id","store","body","update","destroy","useAuthApi","BASE_URL","logout","currentUser","useDptApi","endpoints","listModules","useStudentApi","storeMarks","listMarks","useTeacherApi","useModuleApi","listStudents","useMarksApi","useForm","modelName","intialFields","data","setData","msg","setMsg","setFields","api","apiUpdate","setValue","send","callback","canReset","JSON","stringify","json","apiData","message","reset","errorHandler","create","setError","error","log","push","populateFields","instance","newFields","setAttr","attr","newData","Hide","useList","nextLoading","items","setItems","loaded","setLoaded","loadedRef","useRef","loadItems","current","filter","it","some","ite","prependItem","item","appendItem","currentData","changeItem","newItem","oldIndex","findIndex","splice","its","MoreBtn","next_page_url","style","margin","SelectField","f","onChange","apiName","split","setOptions","modules","departments","students","teachers","chooseAPI","clickHandler","useCallback","apiMethod","apiArgs","argValues","map","fieldKey","find","er","includes","navHandler","prev_page_url","option","NormalField","placeholder","CheckField","fieldId","Math","random","htmlFor","defaultChecked","checked","Form","length","mainProps","v","renderField","ModelForm","onDone","action","toUpperCase","slice","toLowerCase","populated","setPopulated","actionHandler","handler","toLocaleLowerCase","preventDefault","AuthIn","userTypes","MarkCreate","onCreate","StudentMarkTable","StudentMark","mark","Data","setModule","total","decision","StudentMarks","ShowMark","showStudent","setStudent","MarkList","MarkFilter","onData","MarkView","marksUrl","filters","canLoad","setCanLoad","query","obj","hasOwnProperty","call","toString","makeQuery","fontSize","color","Home","UserInfoForm","updateUser","changeUserInfo","useUserInfoChangeApi","didPopulate","setDidPopulate","userInfoFields","submitHandler","PasswordForm","changePassword","usePasswordChangeApi","passwordFields","Account","formType","setFormType","history","useHistory","formShowHandler","textTransform","AuthAdmin","props","TagList","tags","tag","DetailList","details","detail","ShowStudent","onUpdate","onDelete","dptLoading","showDpt","setDetails","dptLoaded","setDptLoaded","personalData","contact","dptData","Student","studentShow","toggleShowStudent","hideStudent","showUpdate","showUpdateModal","hideUpdateModal","showMarks","toggleMarksModal","hideMarksModal","deleteHandler","StudentList","std","ShowTeacher","moduleData","Teacher","TeacherList","t","ShowDepartment","Department","dpt","DepartmentList","ShowModule","teacherLoading","showTeacher","teacherLoaded","setTeacherLoaded","teacherData","ModuleMarkTable","ModuleMark","mo","ModuleMarks","Module","moduleShow","toggleShowModule","hideModule","ModuleList","mod","View","viewType","setViewType","viewTypeSet","setViewTypeSet","MessageContext","MessageUpdateContext","MessageProvider","messages","setMessages","appendMsg","prependMsg","removeMsg","m","clearAll","Login","Layout","userLoaded","setUserLoaded","location","useLocation","status","pathname","App","path","exact","component","render","StrictMode"],"mappings":"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","file":"static/js/main.8b83a6e2.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react'\r\n\r\n\r\nconst AuthContext = React.createContext(null)\r\nconst AuthUpdateContext = React.createContext()\r\n\r\nexport const useUser = () => useContext(AuthContext)\r\n\r\nexport const useUserUpdate = () => useContext(AuthUpdateContext)\r\n\r\n\r\nconst UserProvider = ({ children }) => {\r\n    const [user, setUser] = useState(null)\r\n\r\n    return <AuthContext.Provider value={user}>\r\n        <AuthUpdateContext.Provider value={setUser}>\r\n            {children}\r\n        </AuthUpdateContext.Provider>\r\n    </AuthContext.Provider>\r\n}\r\n\r\nexport default UserProvider","import React from 'react'\r\nimport { useUser } from '../../Contexts/AuthContext'\r\n\r\nconst Auth = ({ children, userType=false }) => {\r\n    const user = useUser()\r\n    const hasUserType = Boolean((!userType || user.type === userType))\r\n    return (\r\n        user && hasUserType && <React.Fragment>{children}</React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Auth\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Auth from \"../Auth/Auth\";\r\nimport \"./Nav.css\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <header className=\"navHeader\">\r\n      <nav className=\"navBar\">\r\n        <div className=\"navLogo\">UR</div>\r\n        <ul className=\"navList\">\r\n          <Auth>\r\n            <li className=\"navItem\">\r\n              <Link className=\"navLink\" to=\"/home\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li className=\"navItem\">\r\n              <Link className=\"navLink\" to=\"/view\">\r\n                View\r\n              </Link>\r\n            </li>\r\n            <li className=\"navItem\">\r\n              <Link className=\"navLink\" to=\"/account\">\r\n                Account\r\n              </Link>\r\n            </li>\r\n          </Auth>\r\n          {/* <Guest>\r\n          <li className=\"navItem\">\r\n            <Link className=\"navLink\" to=\"/login\">\r\n              Login\r\n            </Link>\r\n          </li>\r\n          </Guest> */}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React, {useState, useEffect} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Modal.css';\r\n\r\nexport const useModal = () => {\r\n  const [showModal, setShowModal] = useState (false);\r\n\r\n  return {\r\n    show: showModal,\r\n    toggleModal () {\r\n      setShowModal (prev => !prev);\r\n    },\r\n\r\n    hideModal () {\r\n      setShowModal (false);\r\n    },\r\n\r\n    showModal () {\r\n      setShowModal (true);\r\n    },\r\n  };\r\n};\r\n\r\nconst Modal = ({children, show = false, onHide, Component = null}) => {\r\n  const [wasShown, setWasShown] = useState (false);\r\n\r\n  useEffect (\r\n    () => {\r\n      if (!wasShown && show) {\r\n        setWasShown (true);\r\n      }\r\n    },\r\n    [show, wasShown]\r\n  );\r\n\r\n  const toggleHandler = e => {\r\n    if (e.target.classList.contains ('modalWrapper')) {\r\n      if (typeof onHide === 'function') onHide ();\r\n    }\r\n  };\r\n\r\n  return (\r\n    wasShown &&\r\n    ReactDOM.createPortal (\r\n      <div\r\n        onClick={toggleHandler}\r\n        className={`${!show ? 'hide' : ''} modalWrapper`}\r\n      >\r\n        <button onClick={onHide} className=\"closeBtn\">Close</button>\r\n        {typeof Component === 'function' ? <Component /> : children}\r\n      </div>,\r\n      document.getElementById ('modal-root')\r\n    )\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","const fields = {\r\n  department: {\r\n    name: { label: \"Name\", type: \"text\", value: \"\" },\r\n  },\r\n\r\n  module: {\r\n    name: { label: \"Name\", type: \"text\", value: \"\" },\r\n    code: { label: \"code\", type: \"text\", value: \"\" },\r\n    credits: { label: \"credits\", type: \"number\", value: \"\" },\r\n    teacher_id: { label: \"Teacher\", type: \"select\", options: \"teachers@index\" },\r\n    foculty_id: {\r\n      label: \"Department\",\r\n      type: \"select\",\r\n      options: \"departments@index\",\r\n    },\r\n  },\r\n\r\n  student: {\r\n    name: { label: \"Name\", type: \"text\", value: \"\" },\r\n    email: { label: \"E-mail\", type: \"email\", value: \"\" },\r\n    phone: { label: \"Phone\", type: \"number\" },\r\n    index_number: { label: \"Index Number\", type: \"text\", value: \"\" },\r\n    password: { label: \"Password\", type: \"password\", value: \"\" },\r\n    password_confirmation: {\r\n      label: \"Re-Enter Password\",\r\n      type: \"password\",\r\n      value: \"\",\r\n    },\r\n    foculty_id: {\r\n      label: \"Department\",\r\n      type: \"select\",\r\n      options: \"departments@index\",\r\n      value: \"\",\r\n    },\r\n  },\r\n\r\n  teacher: {\r\n    name: { label: \"Name\", type: \"text\", value: \"\" },\r\n    email: { label: \"E-mail\", type: \"email\", value: \"\" },\r\n    phone: { label: \"Phone\", type: \"number\" },\r\n    password: { label: \"Password\", type: \"password\", value: \"\" },\r\n    password_confirmation: {\r\n      label: \"Re-Enter Password\",\r\n      type: \"password\",\r\n      value: \"\",\r\n    },\r\n  },\r\n\r\n  marks: {\r\n    module_id: {\r\n      label: \"Module\",\r\n      type: \"select\",\r\n      options: \"modules@index\",\r\n      value: \"\",\r\n    },\r\n    student_id: {\r\n      label: \"Student\",\r\n      type: \"select\",\r\n      options: \"modules@listStudents@module_id\",\r\n      value: \"\",\r\n    },\r\n    formative: { label: \"Formative Assessment\", type: \"number\", value: \"\" },\r\n    summative: { label: \"Summative Assessment\", type: \"number\", value: \"\" },\r\n    academic_year: {\r\n      label: \"Academic Year\",\r\n      type: \"select\",\r\n      value: \"\",\r\n      options: [\r\n        { label: \"2018-2019\", value: \"2018-2019\" },\r\n        { label: \"2019-2020\", value: \"2019-2020\" },\r\n        { label: \"2020-2021\", value: \"2020-2021\" },\r\n        { label: \"2021-2022\", value: \"2021-2022\" },\r\n      ],\r\n    },\r\n    semester: {\r\n      label: \"Semester\",\r\n      type: \"select\",\r\n      options: [\r\n        { label: \"I\", value: \"I\" },\r\n        { label: \"II\", value: \"II\" },\r\n      ],\r\n      value: \"\",\r\n    },\r\n  },\r\n  login: {\r\n    email: { label: \"E-mail\", type: \"email\" },\r\n    password: { label: \"Password\", type: \"password\" },\r\n    user_type: {\r\n      label: \"Account Type\",\r\n      type: \"select\",\r\n      options: [\r\n        { label: \"Admin\", value: \"admin\" },\r\n        { label: \"Teacher\", value: \"teacher\" },\r\n        { label: \"Student\", value: \"student\" },\r\n      ],\r\n      value: \"admin\",\r\n    },\r\n    remember_me: { label: \"Remember-me\", type: \"checkbox\" },\r\n  },\r\n  register: {\r\n    name: { label: \"Name\", type: \"text\" },\r\n    email: { label: \"E-mail\", type: \"email\" },\r\n    password: { label: \"Password\", type: \"password\" },\r\n    password_confirmation: { label: \"Re-enter Password\", type: \"password\" },\r\n  },\r\n  password: {\r\n    current_password: { label: \"Current Password\", type: \"password\" },\r\n    password: { label: \"New Password\", type: \"password\" },\r\n    password_confirmation: { label: \"Re-enter New Password\", type: \"password\" },\r\n  },\r\n  change_info: {\r\n    name: { label: \"New Name\", type: \"text\" },\r\n    email: { label: \"New E-mail\", type: \"email\" },\r\n    phone: { label: \"Phone\", type: \"number\" },\r\n  },\r\n};\r\n\r\nexport const normalizeFields = (fields) => {\r\n  const fieldsClone = { ...fields };\r\n  Object.keys(fields).forEach((group) => {\r\n    fieldsClone[group] = { ...fields[group] };\r\n    Object.keys(fields[group]).forEach((prop) => {\r\n      const field = fields[group][prop];\r\n      fields[group][prop][\"errors\"] = field.errors || [];\r\n      fields[group][prop][\"value\"] = field.value || \"\";\r\n      fields[group][prop][\"type\"] = field.type || \"text\";\r\n      fieldsClone[group][prop] = { ...fields[group][prop] };\r\n    });\r\n  });\r\n  return fieldsClone;\r\n};\r\n\r\nexport const getClone = (key) => {\r\n  if (!(key in fields)) return null;\r\n  const clone = { ...fields[key] };\r\n  Object.keys(clone).forEach((k) => {\r\n    clone[k] = { ...fields[key][k] };\r\n  });\r\n  return clone;\r\n};\r\n\r\nexport default normalizeFields(fields);\r\n","\r\nconst useToken = () => {\r\n    const TOKEN_KEY = \"_TOKEN_KEY\";\r\n\r\n    const saveToken = token => {\r\n        localStorage.setItem(TOKEN_KEY, token)\r\n    }\r\n\r\n    const getToken = () => {\r\n        return localStorage.getItem(TOKEN_KEY)\r\n    }\r\n\r\n    const hasToken = () => {\r\n        return Boolean(getToken())\r\n    }\r\n\r\n    const removeToken = () => {\r\n        localStorage.removeItem(TOKEN_KEY)\r\n    }\r\n\r\n\r\n    return {\r\n        getToken,\r\n        saveToken,\r\n        removeToken,\r\n        hasToken\r\n    }\r\n}\r\n\r\nexport default useToken\r\n","import { useState } from \"react\";\r\nimport useToken from \"./useToken\";\r\n\r\nconst useFetch = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const { hasToken, getToken } = useToken();\r\n\r\n  const request = async (url, options = {}) => {\r\n    setLoading(true);\r\n    const authHeader = hasToken() ?  { \"Authorization\": `Bearer ${getToken()}` } : {}\r\n    options.headers = {\r\n      \"Accept\": \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      ...authHeader,\r\n      ...(options.headers || {}),\r\n    };\r\n    return fetch(url, { ...options })\r\n      .then(async (res) => {\r\n        setLoading(false);\r\n        if (!res.ok) {\r\n          console.warn(res);\r\n        }\r\n        return Promise.resolve(res);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        // console.error(err)\r\n        alert(\"Something went wrong!\");\r\n        // window.location.href = \"/\";\r\n      });\r\n  };\r\n\r\n  const get = async (url, options = {}) => {\r\n    return await request(url, options);\r\n  };\r\n\r\n  const post = async (url, options = {}) => {\r\n    return await request(url, {\r\n      ...options,\r\n      method: \"POST\",\r\n    });\r\n  };\r\n\r\n  const put = async (url, options = {}) => {\r\n    return await request(url, {\r\n      ...options,\r\n      method: \"PUT\",\r\n    });\r\n  };\r\n\r\n  const del = async (url, options = {}) => {\r\n    return await request(url, {\r\n      ...options,\r\n      method: \"DELETE\",\r\n    });\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    get,\r\n    post,\r\n    put,\r\n    del,\r\n  };\r\n};\r\n\r\nexport default useFetch;\r\n","import {} from \"react\";\r\nimport useFetch from \"./useFetch\";\r\n\r\nexport const BASE_URL = \"/api\";\r\n// const routes = ['index', 'store', 'update', 'delete', 'show'];\r\n\r\nconst useApi = (resource, custom = {}) => {\r\n  const { loading, get, post, put, del } = useFetch();\r\n\r\n  const url = (URL) =>\r\n    BASE_URL +\r\n    `/${typeof resource === \"function\" ? resource() : resource}` +\r\n    URL;\r\n\r\n  return {\r\n    loading,\r\n    url,\r\n    index() {\r\n      return get(url(`/`));\r\n    },\r\n\r\n    show(id) {\r\n      return get(url(`/${id}`));\r\n    },\r\n\r\n    store(body) {\r\n      return post(url(`/`), { body });\r\n    },\r\n\r\n    update(id, body) {\r\n      return put(url(`/${id}`), { body });\r\n    },\r\n\r\n    destroy(id) {\r\n      return del(url(`/${id}`));\r\n    },\r\n    ...custom,\r\n  };\r\n};\r\n\r\nexport const useAuthApi = () => {\r\n  const { loading, get, post } = useFetch();\r\n  return {\r\n    loading,\r\n    login(body) {\r\n      return post(BASE_URL + \"/auth/login\", { body });\r\n    },\r\n    logout() {\r\n      return post(BASE_URL + \"/auth/logout\");\r\n    },\r\n    currentUser() {\r\n      return get(BASE_URL + \"/auth/user\");\r\n    },\r\n  };\r\n};\r\n\r\nexport const useDptApi = () => {\r\n  const { loading, get } = useFetch();\r\n  const endpoints = useApi(\"departments\");\r\n\r\n  return {\r\n    ...endpoints,\r\n    loading: loading || endpoints.loading,\r\n    listModules(id) {\r\n      const url = endpoints.url(`/${id}/modules`);\r\n      // console.log({url})\r\n      return get(url);\r\n    },\r\n  };\r\n};\r\n\r\nexport const useStudentApi = () => {\r\n  const { loading, post, get } = useFetch();\r\n  const endpoints = useApi(\"students\");\r\n\r\n  return {\r\n    ...endpoints,\r\n    loading: loading || endpoints.loading,\r\n    storeMarks(id, body) {\r\n      return post(endpoints.url(`/${id}/marks`), { body });\r\n    },\r\n\r\n    listMarks(id) {\r\n      return get(endpoints.url(`/${id}/marks`));\r\n    },\r\n  };\r\n};\r\n\r\nexport const useTeacherApi = () => {\r\n  const { loading, get } = useFetch();\r\n  const endpoints = useApi(\"teachers\");\r\n\r\n  return {\r\n    ...endpoints,\r\n    loading: loading || endpoints.loading,\r\n    listModules(id) {\r\n      return get(endpoints.url(`/${id}/modules`));\r\n    },\r\n  };\r\n};\r\n\r\nexport const useModuleApi = () => {\r\n  const { loading, post, get } = useFetch();\r\n  const endpoints = useApi(\"modules\");\r\n\r\n  return {\r\n    ...endpoints,\r\n    loading: loading || endpoints.loading,\r\n    storeMarks(id, body) {\r\n      return post(endpoints.url(`/${id}/marks`), { body });\r\n    },\r\n\r\n    listStudents(id) {\r\n      return get(endpoints.url(`/${id}/students`));\r\n    },\r\n\r\n    listMarks(id) {\r\n      return get(endpoints.url(`/${id}/marks`));\r\n    },\r\n  };\r\n};\r\n\r\nexport const useMarksApi = () => {\r\n  const endpoints = useApi(\"marks\");\r\n\r\n  return { ...endpoints };\r\n};\r\n\r\nexport const usePasswordChangeApi = () => {\r\n  const { loading, post } = useFetch();\r\n  const url = (URL) => BASE_URL + URL;\r\n\r\n  return {\r\n    loading,\r\n    changePassword(body) {\r\n      return post(url(\"/auth/user/change-password\"), { body });\r\n    },\r\n  };\r\n};\r\n\r\nexport const useUserInfoChangeApi = () => {\r\n  const { loading, post } = useFetch();\r\n  const url = (URL) => BASE_URL + URL;\r\n\r\n  return {\r\n    loading,\r\n    changeUserInfo(body) {\r\n      return post(url(\"/auth/user/change-info\"), { body });\r\n    },\r\n  };\r\n};\r\n\r\nexport const chooseAPI = (apiName) => {\r\n  const apis = {\r\n    \"\": {},\r\n    modules: useModuleApi,\r\n    marks: useMarksApi,\r\n    departments: useDptApi,\r\n    students: useStudentApi,\r\n    teachers: useTeacherApi,\r\n  };\r\n  return apiName ? apis[apiName]() : {};\r\n  // if (apiName) {\r\n  // } else {\r\n  //     return apis\r\n  // }\r\n};\r\n\r\nexport default useApi;\r\n","import { useState, useEffect } from \"react\";\r\nimport { getClone } from \"../Forms/fields\";\r\nimport useApi from \"./useApi\";\r\n\r\nconst useForm = (modelName = {}, intialFields = {}) => {\r\n  const [data, setData] = useState({});\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [fields, setFields] = useState(\r\n    getClone(modelName?.fields || \"\") || intialFields\r\n  );\r\n  const { loading, store, update: apiUpdate } = useApi(modelName?.api || \"\");\r\n\r\n  const setValue = (key, value) => {\r\n    setFields({ ...fields, [key]: { ...fields[key], value } });\r\n  };\r\n\r\n  const send = async (callback, canReset = true) => {\r\n    const res = await callback(JSON.stringify(data));\r\n    const apiData = await res.json();\r\n    if (!res.ok) {\r\n      errorHandler(apiData);\r\n    } else {\r\n      setMsg(data.message || \"Operation Successful!\");\r\n      if (canReset) {\r\n        reset();\r\n      }\r\n    }\r\n    return Promise.resolve(apiData);\r\n  };\r\n\r\n  const create = async () => {\r\n    const data = await send(store);\r\n    return Promise.resolve(data);\r\n  };\r\n\r\n  const setError = (key, error) => {\r\n    console.log(fields[key]);\r\n    setFields({\r\n      ...fields,\r\n      [key]: { ...fields[key], errors: [...fields[key].errors].push(error) },\r\n    });\r\n  };\r\n\r\n  const update = (id) => {\r\n    return async () => send((data) => apiUpdate(id, data));\r\n  };\r\n\r\n  const populateFields = (instance) => {\r\n    const newFields = { ...fields };\r\n    Object.keys(newFields).forEach((k) => {\r\n      if (k in instance) {\r\n        newFields[k].value = instance[k] || \"\";\r\n      } else {\r\n        delete newFields[k];\r\n      }\r\n    });\r\n    setFields(newFields);\r\n  };\r\n\r\n  const reset = () => {\r\n    const newFields = { ...fields };\r\n\r\n    Object.keys(newFields).forEach((key) => {\r\n      newFields[key].errors = [];\r\n      newFields[key].value = \"\";\r\n    });\r\n\r\n    setFields(newFields);\r\n  };\r\n\r\n  const setAttr = (key, attr, value) => {\r\n    setFields({ ...fields, [key]: { ...fields[key], [attr]: value } });\r\n  };\r\n\r\n  function errorHandler(data) {\r\n    if (data.message) setMsg(data.message);\r\n    const newFields = { ...fields };\r\n\r\n    if (data.errors) {\r\n      Object.keys(newFields).forEach((k) => {\r\n        newFields[k].errors = data.errors[k] || [];\r\n      });\r\n    }\r\n    setFields(newFields);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const newData = {};\r\n\r\n    Object.keys(fields).forEach((k) => {\r\n      newData[k] = fields[k].value;\r\n    });\r\n\r\n    setData(newData);\r\n  }, [fields]);\r\n\r\n  // useEffect(() => {\r\n  //     setFields({ ...initialFields })\r\n  // }, [initialFields])\r\n\r\n  return {\r\n    msg,\r\n    data,\r\n    fields,\r\n    loading,\r\n    send,\r\n    create,\r\n    update,\r\n    populateFields,\r\n    reset,\r\n    setValue,\r\n    setError,\r\n    setMsg,\r\n    errorHandler,\r\n    setAttr,\r\n  };\r\n};\r\n\r\nexport default useForm;\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Hide.css'\r\n\r\n\r\nconst Hide = ({children, show, Component=null}) => {\r\n    const [wasShown, setWasShown] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!wasShown && show) {\r\n            setWasShown(true);\r\n        }\r\n    }, [show, wasShown])\r\n\r\n\r\n    return (\r\n        wasShown && <div className={`${show ? 'show' : 'hide'} hideWrapper`}>\r\n            { typeof Component === 'function' ? <Component /> : children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Hide\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport useFetch from './useFetch'\r\n\r\nconst useList = () => {\r\n    const [data, setData] = useState({})\r\n    const { loading: nextLoading, get } = useFetch()\r\n    const [items, setItems] = useState([])\r\n    const [loaded, setLoaded] = useState(false)\r\n    const loadedRef = useRef(false)\r\n\r\n    const loadItems = async (callback) => {\r\n        const res = await callback()\r\n        const data = await res.json()\r\n\r\n        // if (!res.ok) {\r\n        //     throw new Error(data)\r\n        // }\r\n\r\n        setData(data)\r\n        setLoaded(true)\r\n        loadedRef.current = true\r\n    }\r\n\r\n    const appendItem = (item) => {\r\n        const currentData = (data.data || [])\r\n        setData({ ...data, data: [...currentData, item] })\r\n    }\r\n\r\n    const prependItem = (item) => {\r\n        if (!item?.id) return\r\n        setData({ ...data, data: [item, ...items] })\r\n    }\r\n\r\n    const changeItem = (item, newItem) => {\r\n        const newData = [...(data.data || [])]\r\n        const oldIndex = newData.findIndex(it => it.id === item.id)\r\n        newData.splice(oldIndex, 1, newItem)\r\n        setItems(its => its.filter(it => it.id !== item.id))\r\n        setData({ ...data, data: newData })\r\n    }\r\n\r\n    const removeItem = (item) => {\r\n        const newData = [...data.data || []].filter(it => it.id !== item.id)\r\n        setItems(its => its.filter(it => it.id !== item.id))\r\n        setData({ ...data, data: newData })\r\n    }\r\n\r\n    const loadHandler = (url) => {\r\n        setLoaded(false)\r\n        loadItems(() => Promise.resolve(get(url)))\r\n    }\r\n    const MoreBtn = () => {\r\n        return <div>\r\n            {nextLoading && <span className=\"loader\"></span>}\r\n            {!nextLoading && data.next_page_url &&\r\n                <button onClick={() => loadHandler(data.next_page_url)}\r\n                    className=\"btn btnSm moreBtn\"\r\n                    style={{ margin: \".25rem .05rem\" }}>\r\n                    {\"Load More\"}\r\n                </button>\r\n            }\r\n        </div>\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (typeof data.data === 'object') {\r\n            setItems(items => [...(items.filter(it => !data.data.some(ite => ite.id === it.id))), ...data.data])\r\n        }\r\n    }, [data])\r\n\r\n\r\n    return {\r\n        loaded, data, setItems, items, loadItems, prependItem, appendItem, changeItem, removeItem, MoreBtn, setData\r\n    }\r\n}\r\n\r\nexport default useList\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport Hide from \"../../components/Hide/Hide\";\r\nimport { chooseAPI } from \"../../hooks/useApi\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport useList from \"../../hooks/useList\";\r\n\r\nconst SelectField = ({ fields, setAttr, field: f, onChange }) => {\r\n  const apiName = typeof f.options === \"string\" ? f.options.split(\"@\")[0] : \"\";\r\n  const { loading, get } = useFetch();\r\n  const [loaded, setLoaded] = useState(false);\r\n  const { loadItems, data, setItems, items, setData } = useList();\r\n  const [options, setOptions] = useState([]);\r\n  const api = chooseAPI(apiName);\r\n\r\n  useEffect(() => {\r\n    if (typeof f.options === \"object\") {\r\n      setOptions(f.options);\r\n    } else {\r\n      setOptions([...items]);\r\n    }\r\n  }, [items, f]);\r\n\r\n  useEffect(() => {\r\n    setItems(data.data || []);\r\n  }, [data, setItems]);\r\n\r\n  const clickHandler = useCallback(() => {\r\n    if (!loaded && apiName && api) {\r\n      if (typeof f.options === \"string\") {\r\n        const [, apiMethod, apiArgs] = f.options.split(\"@\");\r\n        let argKeys = apiArgs ? apiArgs.split(\",\") : [];\r\n        let argValues = argKeys.map((key) => {\r\n          const value = fields[key][\"value\"];\r\n\r\n          const error = `Please enter ${key} first`;\r\n          const fieldKey = Object.keys(fields).find(\r\n            (k) => fields[k].label === f.label\r\n          );\r\n\r\n          if (value === \"\" && !f.errors.some((er) => er === error)) {\r\n            setAttr(fieldKey, \"errors\", [...f.errors, error]);\r\n          }\r\n\r\n          if (value !== \"\" && f.errors.includes(error)) {\r\n            setAttr(\r\n              fieldKey,\r\n              \"errors\",\r\n              f.errors.filter((er) => er !== error)\r\n            );\r\n          }\r\n\r\n          return value;\r\n        });\r\n        if (argValues.some((value) => value === \"\")) {\r\n          return undefined;\r\n        }\r\n\r\n        loadItems(() => api[apiMethod](...argValues));\r\n      } else {\r\n        setOptions(f.options);\r\n      }\r\n      setLoaded(true);\r\n    }\r\n  }, [loaded, fields, api, apiName, f, setAttr, loadItems]);\r\n\r\n  const refresh = () => {\r\n    setLoaded(false);\r\n    clickHandler();\r\n  };\r\n\r\n  async function navHandler(prev = false) {\r\n    const url = prev ? data.prev_page_url : data.next_page_url;\r\n    const res = await get(url);\r\n    const newData = await res.json();\r\n    setData(newData);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <label>Select {f.label}</label>\r\n      <div className=\"selectBtnWrapper\">\r\n        {\r\n          <Hide show={api.loading || loading}>\r\n            {\" \"}\r\n            <span className=\"loader\" />\r\n          </Hide>\r\n        }\r\n        {!loading && (\r\n          <React.Fragment>\r\n            {data.prev_page_url && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navHandler(true)}\r\n                className=\"btn btnSm prevBtn\"\r\n              >\r\n                {\"<< prev\"}\r\n              </button>\r\n            )}\r\n            {loaded && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={refresh}\r\n                className=\"btn btnSm refeshBtn\"\r\n              >\r\n                Refresh\r\n              </button>\r\n            )}\r\n            {data.next_page_url && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navHandler(false)}\r\n                className=\"btn btnSm nextBtn\"\r\n              >\r\n                {\"next >>\"}\r\n              </button>\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n      <select\r\n        onClick={clickHandler}\r\n        value={f.value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n      >\r\n        <option value=\"\">...</option>\r\n        {options.map((option) => (\r\n          <option\r\n            key={option.label || option.id}\r\n            value={option.value || option.id}\r\n          >\r\n            {option.label || option.name}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SelectField;\r\n","import React from 'react';\r\n\r\nconst NormalField = ({field: f, onChange}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <label>{f.label}</label>\r\n      <input\r\n        // defaultValue={}\r\n        value={f.value}\r\n        placeholder={`Enter ${f.label}`}\r\n        type={f.type}\r\n        onChange={e => onChange (e.target.value)}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default NormalField;\r\n","import React from 'react';\r\n\r\nconst CheckField = ({field: f, onChange}) => {\r\n  const fieldId = Math.random ();\r\n  return (\r\n    <React.Fragment>\r\n      <label htmlFor={fieldId}>{f.label}</label>\r\n      <input\r\n        id={fieldId}\r\n        value={f.value}\r\n        defaultChecked={f.value ? true : false}\r\n        placeholder={`Enter ${f.label}`}\r\n        type={f.type}\r\n        onChange={e => onChange (e.target.checked)}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default CheckField;\r\n","import React from 'react';\r\n\r\nimport {SelectField, NormalField, CheckField} from '../Fields/index';\r\n\r\nconst Form = ({fields, setError, setAttr, setValue}) => {\r\n  function renderField (key, field) {\r\n    const mainProps = {field, setError, setAttr, fields, onChange: v => setValue (key, v)};\r\n\r\n    switch (field.type) {\r\n      case 'select':\r\n        return <SelectField {...mainProps} />;\r\n      case 'checkbox':\r\n        return <CheckField {...mainProps} />;\r\n      default:\r\n        return <NormalField {...mainProps} />;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      {Object.keys ({...fields}).map (key => {\r\n        return (\r\n          <div\r\n            key={key}\r\n            className={`${Boolean (fields[key].errors.length) ? 'error' : ''} ${fields[key]['type']} inputWrapper`}\r\n          >\r\n            {renderField (key, fields[key])}\r\n            {Boolean (fields[key].errors.length) &&\r\n              <div className=\"errorWrapper\">\r\n                {fields[key].errors.map (err => {\r\n                  return <div key={err} className=\"error\">{err}</div>;\r\n                })}\r\n              </div>}\r\n          </div>\r\n        );\r\n      })}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, {useEffect, useState} from 'react';\r\nimport useForm from '../hooks/useForm';\r\nimport Form from './Form/Form';\r\n\r\nconst ModelForm = ({modelName, onDone, action = 'Create', instance}) => {\r\n  if (typeof modelName === 'string') {\r\n    modelName = {\r\n      label: modelName[0].toUpperCase () + modelName.slice(1).toLowerCase(),\r\n      fields: modelName.toLowerCase (),\r\n      api: modelName.toLowerCase () + 's',\r\n    };\r\n  }\r\n  const {setValue, setError, setAttr, loading, fields, create, update, populateFields} = useForm (\r\n    modelName\r\n  );\r\n  const [populated, setPopulated] = useState (false);\r\n\r\n  useEffect (\r\n    () => {\r\n      if (instance && !populated) {\r\n        populateFields (instance);\r\n        setPopulated (true);\r\n      }\r\n    },\r\n    [instance, populateFields, populated]\r\n  );\r\n\r\n  const actionHandler = async () => {\r\n    const handler = action.toLocaleLowerCase () === 'create'\r\n      ? create\r\n      : update (instance.id);\r\n\r\n    const data = await handler ();\r\n    if (!data.errors) {\r\n      onDone && onDone (data);\r\n    }\r\n  };\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault ();\r\n    actionHandler ();\r\n  };\r\n\r\n  return (\r\n    <form>\r\n      <h2 className=\"formHeader\">{modelName.label}</h2>\r\n      <Form setAttr={setAttr} setError={setError} setValue={setValue} fields={fields} />\r\n      <button className=\"btn formSubmitBtn\" onClick={submitHandler}>\r\n        {!loading ? `${action} ${modelName.label}` : '...'}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ModelForm;\r\n","import React from 'react'\r\nimport { useUser } from \"../../Contexts/AuthContext\"\r\n\r\nconst AuthIn = ({children, userTypes=[]}) => {\r\n    const user = useUser()\r\n    const userAllowed = user && userTypes.includes(user.type)\r\n\r\n    return userAllowed && <React.Fragment>\r\n        {children}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default AuthIn\r\n","import React from 'react'\r\nimport './MarkCreate.css'\r\nimport Modal, { useModal } from '../Modal/Modal'\r\nimport ModelForm from '../../Forms/ModelForm'\r\nimport AuthIn from '../AuthIn/AuthIn'\r\n\r\n\r\nconst MarkCreate = ({ onCreate }) => {\r\n    const { show, hideModal, toggleModal } = useModal()\r\n\r\n    return (\r\n        <AuthIn userTypes={['admin', 'teacher']}>\r\n        <div className=\"markCreateWrapper\">\r\n            <Modal show={show} onHide={hideModal}>\r\n                <ModelForm onDone={data => onCreate && onCreate(data)} modelName={{label: \"Marks\", fields: \"marks\", api: \"marks\"}} />\r\n            </Modal>\r\n            <button onClick={toggleModal} className=\"markCreateBtn btn\">Record Marks</button>\r\n        </div>\r\n        </AuthIn>\r\n    )\r\n}\r\n\r\nexport default MarkCreate\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useStudentApi, useModuleApi} from '../../hooks/useApi';\r\nimport useList from '../../hooks/useList';\r\nimport './StudentMarks.css';\r\n\r\nconst StudentMarks = ({student}) => {\r\n  const {loading, listMarks} = useStudentApi ();\r\n  const {loadItems, items: marks} = useList ();\r\n  const [loaded, setLoaded] = useState (false);\r\n\r\n  useEffect (\r\n    () => {\r\n      if (!loaded) {\r\n        loadItems (() => listMarks (student.id));\r\n        setLoaded (true);\r\n      }\r\n    },\r\n    [loaded, listMarks, student, loadItems]\r\n  );\r\n\r\n  return (\r\n    <div className=\"showWrapper marksShowWrapper\">\r\n      <h2>{student.name}</h2>\r\n      {loading && <span className=\"loader\" />}\r\n      {!loading && marks.length === 0 ? 'No marks yet.' : ''}\r\n      {!loading && marks.length\r\n        ? <div className=\"marksListWrapper\">\r\n            <StudentMarkTable>\r\n              {marks.map (mark => {\r\n                return (\r\n                  <StudentMark student={student} mark={mark} key={mark.id} />\r\n                );\r\n              })}\r\n            </StudentMarkTable>\r\n          </div>\r\n        : ''}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const StudentMarkTable = ({children, headers}) => {\r\n  return (\r\n    <table className=\"markTable\">\r\n      <thead>\r\n        <tr>\r\n          { headers }\r\n          <th>Module Code</th>\r\n          <th>Module Name</th>\r\n          <th>Semester</th>\r\n          <th>Year</th>\r\n          <th>Credits</th>\r\n          <th>Formative Ass. /50</th>\r\n          <th>Summative Ass. /50</th>\r\n          <th>Total /100</th>\r\n          <th>Decision</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{children}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport const StudentMark = ({student, mark, Data}) => {\r\n  const [module, setModule] = useState ({});\r\n  const [loaded, setLoaded] = useState (false);\r\n  const {loading, show} = useModuleApi ();\r\n\r\n  useEffect (\r\n    () => {\r\n      if (!loaded) {\r\n        show (mark.module_id).then (async res => {\r\n          const data = await res.json ();\r\n          setModule (data);\r\n        });\r\n        setLoaded (true);\r\n      }\r\n    },\r\n    [module, mark, show, loaded]\r\n  );\r\n\r\n  return loading\r\n    ? <tr className=\"loader\" />\r\n    : <tr>\r\n        {Data}\r\n        <td>{module.code}</td>\r\n        <td>{module.name}</td>\r\n        <td>{mark.semester || 0}</td>\r\n        <td>{mark.academic_year || 0}</td>\r\n        <td>{module.credits || 0}</td>\r\n        <td>{mark.formative || 0}</td>\r\n        <td>{mark.summative || 0}</td>\r\n        <td>{mark.total || 0}</td>\r\n        <td>{mark.decision ? 'Pass' : 'Retake'}</td>\r\n      </tr>;\r\n};\r\n\r\nexport default StudentMarks;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useStudentApi} from '../../hooks/useApi';\r\nimport { StudentMark } from '../StudentMarks/StudentMarks';\r\nimport './ShowMark.css';\r\n\r\nconst ShowMark = ({mark}) => {\r\n  const {loading, show: showStudent} = useStudentApi ();\r\n  const [student, setStudent] = useState ({});\r\n  const [loaded, setLoaded] = useState (false);\r\n\r\n  useEffect (\r\n    () => {\r\n      if (!loaded) {\r\n        showStudent (mark.student_id).then (async res => {\r\n          const data = await res.json ();\r\n          setStudent (data);\r\n        });\r\n        setLoaded (true);\r\n      }\r\n    },\r\n    [loaded, showStudent, mark]\r\n  );\r\n\r\n  return loading\r\n    ? <tr className=\"loader\" />\r\n    : loaded && <React.Fragment>\r\n        <StudentMark Data={<td>{student.name}</td>} student={student} mark={mark} key={mark.id} />\r\n    </React.Fragment>\r\n};\r\n\r\nexport default ShowMark;\r\n","import React from 'react';\r\nimport ShowMark from '../ShowMark/ShowMark';\r\nimport {StudentMarkTable} from '../StudentMarks/StudentMarks';\r\nimport './MarkList.css';\r\n\r\nconst MarkList = ({marks}) => {\r\n  return (\r\n    <div className=\"marksListWrapper\">\r\n      {!marks.length && <p>No marks found</p>}\r\n      {marks.length\r\n        ? <StudentMarkTable headers={<th>Names</th>}>\r\n            {marks.map (mark => {\r\n              return <ShowMark mark={mark} key={mark.id} />;\r\n            })}\r\n          </StudentMarkTable>\r\n        : ''}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarkList;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './MarkView.css';\r\nimport MarkCreate from '../MarkCreate/MarkCreate';\r\nimport MarkList from '../MarkList/MarkList';\r\nimport {useMarksApi} from '../../hooks/useApi';\r\nimport useList from '../../hooks/useList';\r\nimport useForm from '../../hooks/useForm';\r\nimport Form from '../../Forms/Form/Form';\r\nimport {normalizeFields} from '../../Forms/fields';\r\nimport useFetch from '../../hooks/useFetch';\r\n\r\nconst MarkView = () => {\r\n  const [loaded, setLoaded] = useState (false);\r\n  const {loading, get} = useFetch ();\r\n  const {url: marksUrl} = useMarksApi ();\r\n  const {loadItems, setItems, items: marks} = useList ();\r\n  const {data: filters, setValue, fields} = useForm ('', getFilterFields ());\r\n  const [canLoad, setCanLoad] = useState (false);\r\n\r\n  const loadHandler = () => {\r\n    if (!(filters.academic_year && filters.semester)) {\r\n      return canLoad && setCanLoad (false);\r\n    }\r\n    setItems ([]);\r\n    setLoaded (false);\r\n    setCanLoad (true);\r\n  };\r\n\r\n  useEffect (\r\n    () => {\r\n      const makeQuery = obj => {\r\n        let query = '';\r\n        for (const prop in obj) {\r\n          if (Object.hasOwnProperty.call (obj, prop)) {\r\n            query +=\r\n              (query.length ? '&' : '') +\r\n              prop.toString () +\r\n              '=' +\r\n              obj[prop].toString ();\r\n          }\r\n        }\r\n        return '?' + query;\r\n      };\r\n\r\n      if (!loaded && canLoad) {\r\n        const query = makeQuery (filters);\r\n        loadItems (() => get (marksUrl (query)));\r\n        setLoaded (true);\r\n      }\r\n    },\r\n    [loadItems, get, filters, marksUrl, loaded, canLoad]\r\n  );\r\n\r\n  return (\r\n    <div className=\"markViewWrapper\">\r\n      <MarkCreate />\r\n      <MarkFilter loading={loading} onData={loadHandler}>\r\n        <Form fields={fields} setValue={setValue} />\r\n      </MarkFilter>\r\n      {!canLoad &&\r\n        <p style={{fontSize: '1.7rem', color: 'var(--dark-color-op)'}}>\r\n          Select year and semester to view marks for.\r\n        </p>}\r\n      {loading\r\n        ? <span className=\"loader\" />\r\n        : canLoad && <MarkList marks={marks} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const MarkFilter = ({onData, loading, children}) => {\r\n  const submitHandler = e => {\r\n    e.preventDefault ();\r\n    onData ();\r\n  };\r\n\r\n  return (\r\n    <form className=\"markFilterForm\">\r\n      {children}\r\n      <button onClick={submitHandler} className=\"viewMarksBtn btn\">\r\n        {loading ? '...' : 'View marks'}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nfunction getFilterFields () {\r\n  const filterFields = {\r\n    filters: {\r\n      academic_year: {\r\n        label: 'Academic Year',\r\n        type: 'select',\r\n        value: '',\r\n        options: [\r\n          {label: '2018-2019', value: '2018-2019'},\r\n          {label: '2019-2020', value: '2019-2020'},\r\n          {label: '2020-2021', value: '2020-2021'},\r\n          {label: '2021-2022', value: '2021-2022'},\r\n        ],\r\n      },\r\n      semester: {\r\n        label: 'Semester',\r\n        type: 'select',\r\n        options: [{label: 'I', value: 'I'}, {label: 'II', value: 'II'}],\r\n        value: '',\r\n      },\r\n    },\r\n  };\r\n\r\n  return normalizeFields (filterFields).filters;\r\n}\r\n\r\nexport default MarkView;\r\n","import React from 'react'\r\nimport MarkView from '../../components/MarkView/MarkView'\r\nimport './Home.css'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            <MarkView />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useUserInfoChangeApi } from \"../hooks/useApi\";\r\nimport useForm from \"../hooks/useForm\";\r\nimport fields from \"./fields\";\r\nimport Form from \"./Form/Form\";\r\nimport { useUser, useUserUpdate } from \"../Contexts/AuthContext\";\r\n\r\nconst UserInfoForm = () => {\r\n  const user = useUser();\r\n  const updateUser = useUserUpdate();\r\n  const { loading, changeUserInfo } = useUserInfoChangeApi();\r\n  const [didPopulate, setDidPopulate] = useState(false);\r\n  const {\r\n    msg,\r\n    fields: userInfoFields,\r\n    setValue,\r\n    setAttr,\r\n    send,\r\n    setError,\r\n    populateFields,\r\n  } = useForm(\"\", fields.change_info);\r\n\r\n  useEffect(() => {\r\n    if (!didPopulate) {\r\n      populateFields(user);\r\n      setDidPopulate(true);\r\n    }\r\n  }, [populateFields, user, didPopulate]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const data = await send(changeUserInfo, false);\r\n    updateUser(data);\r\n  };\r\n\r\n  return (\r\n    <form action=\"\">\r\n      <h2 className=\"formHeader\">Change User Info</h2>\r\n      {msg && <h5 className=\"formMsg textDanger\">{msg}</h5>}\r\n      <Form\r\n        fields={userInfoFields}\r\n        setValue={setValue}\r\n        setError={setError}\r\n        setAttr={setAttr}\r\n      />\r\n      <button onClick={submitHandler} className=\"btn formSubmitBtn\">\r\n        {loading ? \"...\" : \"Change Info\"}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UserInfoForm;\r\n","import React from \"react\";\r\nimport { usePasswordChangeApi } from \"../hooks/useApi\";\r\nimport useForm from \"../hooks/useForm\";\r\nimport fields from \"./fields\";\r\nimport Form from \"./Form/Form\";\r\n\r\nconst PasswordForm = () => {\r\n  const { loading, changePassword } = usePasswordChangeApi();\r\n  const {\r\n    msg,\r\n    fields: passwordFields,\r\n    setValue,\r\n    setAttr,\r\n    send,\r\n    setError,\r\n  } = useForm(\"\", fields.password);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    send(changePassword);\r\n  };\r\n\r\n  return (\r\n    <form action=\"\">\r\n      <h2 className=\"formHeader\">Change Password</h2>\r\n      {msg && <h5 className=\"formMsg textDanger\">{msg}</h5>}\r\n      <Form\r\n        fields={passwordFields}\r\n        setValue={setValue}\r\n        setError={setError}\r\n        setAttr={setAttr}\r\n      />\r\n      <button onClick={submitHandler} className=\"btn formSubmitBtn\">\r\n        {loading ? \"...\" : \"Change Password\"}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PasswordForm;\r\n","import React, { useState } from \"react\";\r\nimport \"./Account.css\";\r\n\r\nimport Modal from \"../../components/Modal/Modal\";\r\nimport { UserInfoForm } from \"../../Forms\";\r\nimport { PasswordForm } from \"../../Forms\";\r\nimport Hide from \"../../components/Hide/Hide\";\r\nimport useToken from \"../../hooks/useToken\";\r\nimport { useUser, useUserUpdate } from \"../../Contexts/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Account = () => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [formType, setFormType] = useState(\"\");\r\n  const updateUser = useUserUpdate();\r\n  const { removeToken } = useToken();\r\n  const history = useHistory();\r\n  const user = useUser();\r\n\r\n  const formShowHandler = (formType) => {\r\n    setShowModal(true);\r\n    setFormType(formType);\r\n  };\r\n\r\n  const toggleHandler = () => {\r\n    setShowModal((prev) => !prev);\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    removeToken();\r\n    updateUser(null);\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal onHide={toggleHandler} show={showModal}>\r\n        <Hide show={formType === \"userinfo\"} Component={UserInfoForm} />\r\n        <Hide show={formType === \"password\"} Component={PasswordForm} />\r\n      </Modal>\r\n      <div className=\"profileWrapper\">\r\n        <div className=\"userAvatar\">{user?.name[0].toUpperCase()}</div>\r\n        <div className=\"userInfoWrapper\">\r\n          <div className=\"userName\">\r\n            <span>{user.name}</span>\r\n          </div>\r\n          <div className=\"userRole\">\r\n            <span style={{ textTransform: \"capitalize\" }}>{user.type}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"profileBtns\">\r\n          <button onClick={logoutHandler} className=\"btn\">\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"personalInfoWrapper\">\r\n        <h2>Personal Info</h2>\r\n        <div className=\"personalInfo\">\r\n          <div className=\"info\">\r\n            <span className=\"infoKey\">E-mail: </span>\r\n            <span className=\"infoValue\">{user.email}</span>\r\n          </div>\r\n          <div className=\"info\">\r\n            <span className=\"infoKey\">Phone: </span>\r\n            <span className=\"infoValue\">{user.phone || \"None\"}</span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={(e) => formShowHandler(\"userinfo\")}\r\n          className=\"btn perosonalInfoBtn\"\r\n        >\r\n          Change Info\r\n        </button>\r\n        <button\r\n          onClick={(e) => formShowHandler(\"password\")}\r\n          className=\"btn perosonalInfoBtn\"\r\n        >\r\n          Change Password\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import React from 'react'\r\nimport Auth from '../Auth/Auth'\r\n\r\nconst AuthAdmin = (props) => {\r\n    return <Auth {...props} userType=\"admin\" />\r\n}\r\n\r\nexport default AuthAdmin\r\n","import React from 'react';\r\nimport './TagList.css'\r\n\r\nconst TagList = ({tags}) => {\r\n\r\n  return (\r\n    <div className=\"tagList\">\r\n      {tags.map (tag => {\r\n        return <span key={tag.name} className=\"tag\">{tag.name}</span>;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagList;\r\n","import React from 'react';\r\nimport './DetailList.css';\r\nimport TagList from '../TagList/TagList';\r\n\r\nconst DetailList = ({details = {}}) => {\r\n  return (\r\n    <div className=\"detailsWrapper\">\r\n      <h4 className=\"detailsHeader\">Details</h4>\r\n      { !Object.keys (details).length && <p>No details.</p> }\r\n      <div className=\"detailsList\">\r\n        {Object.keys (details).map (k => {\r\n            const detail = details[k]\r\n          return (\r\n            <div key={k} className=\"detail\">\r\n              <span className=\"detailKey\">{k}</span>\r\n              <span className=\"detailValue\">\r\n                  { detail.tags && <TagList tags={detail.tags} /> }\r\n              </span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDptApi } from \"../../hooks/useApi\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\nimport DetailList from \"../DetailList/DetailList\";\r\n\r\nconst ShowStudent = ({ student, onUpdate, onDelete }) => {\r\n  const { loading: dptLoading, show: showDpt } = useDptApi();\r\n  const [details, setDetails] = useState();\r\n  const [dptLoaded, setDptLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const personalData = {\r\n      tags: [{ name: student.email }, { name: student.phone }],\r\n    };\r\n    setDetails((details) => ({ ...details, contact: personalData }));\r\n  }, [student]);\r\n\r\n  useEffect(() => {\r\n    if (!dptLoaded) {\r\n      showDpt(student.foculty_id).then(async (res) => {\r\n        const data = await res.json();\r\n        const dptData = { tags: [{ name: data.name }] };\r\n        setDetails((details) => ({ ...details, department: dptData }));\r\n      });\r\n      setDptLoaded(true);\r\n    }\r\n  }, [dptLoaded, showDpt, student]);\r\n\r\n  return (\r\n    <div className=\"showWrapper\">\r\n      <h2 className=\"showHeader\">{student.name}</h2>\r\n      {!dptLoading && <DetailList details={details} />}\r\n      {dptLoading && <span className=\"loader\"></span>}\r\n      <AuthAdmin>\r\n        <div className=\"actionsWrapper\">\r\n          <h4 className=\"actionsHeader\">Actions</h4>\r\n          <div className=\"actionsList\">\r\n            <button\r\n              onClick={() => onUpdate && onUpdate()}\r\n              className=\"actionBtn btnSuccess btn\"\r\n            >\r\n              Update\r\n            </button>\r\n            <button onClick={onDelete} className=\"actionBtn btnDanger btn\">\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </AuthAdmin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowStudent;\r\n","import React from 'react';\r\nimport './Student.css';\r\n\r\nimport Modal, {useModal} from '../Modal/Modal';\r\nimport ShowStudent from '../ShowStudent/ShowStudent';\r\nimport ModelForm from '../../Forms/ModelForm';\r\nimport StudentMarks from '../StudentMarks/StudentMarks';\r\nimport {useStudentApi} from '../../hooks/useApi';\r\n\r\nconst Student = ({student, onDelete, onUpdate}) => {\r\n  const {loading, destroy} = useStudentApi ();\r\n\r\n  const {\r\n    show: studentShow,\r\n    toggleModal: toggleShowStudent,\r\n    hideModal: hideStudent,\r\n  } = useModal ();\r\n\r\n  const {\r\n    show: showUpdate,\r\n    showModal: showUpdateModal,\r\n    hideModal: hideUpdateModal,\r\n  } = useModal ();\r\n\r\n  const {\r\n    show: showMarks,\r\n    toggleModal: toggleMarksModal,\r\n    hideModal: hideMarksModal,\r\n  } = useModal ();\r\n\r\n  const modalShowHandler = () => {\r\n    hideStudent ();\r\n    showUpdateModal ();\r\n  };\r\n\r\n  const deleteHandler = async () => {\r\n    const res = await destroy (student.id);\r\n    const data = await res.json ();\r\n    if (res.ok && data) {\r\n      onDelete (student);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"student\">\r\n      {!loading &&\r\n        <React.Fragment>\r\n\r\n          <Modal onHide={hideStudent} show={studentShow}>\r\n            <ShowStudent\r\n              onDelete={deleteHandler}\r\n              onUpdate={modalShowHandler}\r\n              student={student}\r\n            />\r\n          </Modal>\r\n          <Modal show={showUpdate} onHide={hideUpdateModal}>\r\n            <ModelForm\r\n              onDone={onUpdate}\r\n              modelName={'student'}\r\n              action=\"Update\"\r\n              instance={student}\r\n            />\r\n          </Modal>\r\n          <Modal show={showMarks} onHide={hideMarksModal}>\r\n            <StudentMarks student={student} />\r\n          </Modal>\r\n          <span onClick={toggleShowStudent} className=\"studentName\">\r\n            {student.name}\r\n          </span>\r\n          <div className=\"studentBtns\">\r\n            <button\r\n              onClick={toggleMarksModal}\r\n              className=\"btn viewMarksBtn btnSm\"\r\n            >\r\n              View Marks\r\n            </button>\r\n          </div>\r\n        </React.Fragment>}\r\n      {loading && <span className=\"loader\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Student;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./StudentList.css\";\r\n\r\nimport Modal, { useModal } from \"../Modal/Modal\";\r\nimport Student from \"../Student/Student\";\r\nimport { useStudentApi } from \"../../hooks/useApi\";\r\nimport useList from \"../../hooks/useList\";\r\nimport ModelForm from \"../../Forms/ModelForm\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\n\r\nconst StudentList = () => {\r\n  const { show, hideModal, toggleModal } = useModal();\r\n  const { index, loading } = useStudentApi();\r\n  const {\r\n    loadItems,\r\n    items: students,\r\n    changeItem,\r\n    prependItem,\r\n    removeItem,\r\n    MoreBtn,\r\n  } = useList();\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!loaded) {\r\n      loadItems(index);\r\n      setLoaded(true);\r\n    }\r\n  }, [loadItems, index, loaded]);\r\n\r\n  const createdHandler = (newItem) => {\r\n    hideModal();\r\n    prependItem(newItem);\r\n  };\r\n\r\n  return (\r\n    <div className=\"studentWrapper\">\r\n      {/* <span className=\"loader\"></span> */}\r\n      <AuthAdmin>\r\n        <Modal onHide={hideModal} show={show}>\r\n          <ModelForm modelName=\"student\" onDone={createdHandler} />\r\n        </Modal>\r\n      </AuthAdmin>\r\n      <div className=\"studentHeader\">\r\n        <h2 className=\"studentHeader\">Students</h2>\r\n        <AuthAdmin>\r\n          <button onClick={toggleModal} className=\"btn\">\r\n            Create Student\r\n          </button>\r\n        </AuthAdmin>\r\n      </div>\r\n\r\n      <div className=\"studentList\">\r\n        {loading && (\r\n          <div className=\"student\">\r\n            <span className=\"loader\" />\r\n          </div>\r\n        )}\r\n        {!loading && !students.length && <p>No students found</p>}\r\n        {students.map((std) => (\r\n          <Student\r\n            onUpdate={(data) => changeItem(std, data)}\r\n            onDelete={removeItem}\r\n            student={std}\r\n            key={std.id}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      <MoreBtn />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTeacherApi } from \"../../hooks/useApi\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\nimport DetailList from \"../DetailList/DetailList\";\r\nimport \"./ShowTeacher.css\";\r\n\r\nconst ShowTeacher = ({ teacher, onUpdate, onDelete }) => {\r\n  const [details, setDetails] = useState({});\r\n  const { loading, listModules } = useTeacherApi();\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const personalData = {\r\n      tags: [{ name: teacher.email }, { name: teacher.phone }],\r\n    };\r\n    setDetails((details) => ({ ...details, contact: personalData }));\r\n  }, [teacher]);\r\n\r\n  useEffect(() => {\r\n    if (!loaded) {\r\n      listModules(teacher.id).then(async (res) => {\r\n        const data = await res.json();\r\n        let moduleData = data.data.map((item) => {\r\n          return { name: item.name };\r\n        });\r\n        moduleData = moduleData.length ? { modules: { tags: moduleData } } : {};\r\n        setDetails((details) => ({ ...details, ...moduleData }));\r\n      });\r\n      setLoaded(true);\r\n    }\r\n  }, [teacher, loaded, listModules]);\r\n\r\n  return (\r\n    <div className=\"showWrapper\">\r\n      <h2 className=\"showHeader\">{teacher.name}</h2>\r\n      {loading && <span className=\"loader\"></span>}\r\n      {!loading && <DetailList details={details} />}\r\n      <AuthAdmin>\r\n        <h4 className=\"actionsHeader\">Actions</h4>\r\n        <div className=\"actionsWrapper\">\r\n          <div className=\"actionsList\">\r\n            <button\r\n              onClick={(e) => onUpdate && onUpdate()}\r\n              className=\"actionBtn btnSuccess btn\"\r\n            >\r\n              Update\r\n            </button>\r\n            <button\r\n              onClick={(e) => onDelete && onDelete()}\r\n              className=\"actionBtn btnDanger btn\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </AuthAdmin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowTeacher;\r\n","import React from 'react';\r\nimport './Teacher.css';\r\nimport Modal, {useModal} from '../Modal/Modal';\r\nimport ShowTeacher from '../ShowTeacher/ShowTeacher';\r\nimport ModelForm from '../../Forms/ModelForm';\r\nimport {useTeacherApi} from '../../hooks/useApi';\r\n\r\nconst Teacher = ({teacher, onUpdate, onDelete}) => {\r\n  const {loading, destroy} = useTeacherApi ();\r\n  const {show, toggleModal, hideModal} = useModal ();\r\n  const {\r\n    show: showUpdate,\r\n    showModal: showUpdateModal,\r\n    hideModal: hideUpdateModal,\r\n  } = useModal ();\r\n\r\n  const showUpdateModalHandler = () => {\r\n    hideModal ();\r\n    showUpdateModal ();\r\n  };\r\n\r\n  const deleteHandler = async () => {\r\n    const res = await destroy (teacher.id);\r\n    const data = await res.json ();\r\n    if (res.ok && data) {\r\n      onDelete (teacher);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"teacher\">\r\n      {loading && <span className=\"loader\" />}\r\n      {!loading &&\r\n        <React.Fragment>\r\n          <Modal show={show} onHide={hideModal}>\r\n            <ShowTeacher\r\n              onDelete={deleteHandler}\r\n              onUpdate={showUpdateModalHandler}\r\n              teacher={teacher}\r\n            />\r\n          </Modal>\r\n          <Modal show={showUpdate} onHide={hideUpdateModal}>\r\n            <ModelForm\r\n              onDone={onUpdate}\r\n              modelName={'teacher'}\r\n              action=\"Update\"\r\n              instance={teacher}\r\n            />\r\n          </Modal>\r\n          <span onClick={toggleModal} className=\"teacherName\">\r\n            {teacher.name}\r\n          </span>\r\n        </React.Fragment>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Teacher;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./TeacherList.css\";\r\n\r\nimport Modal, { useModal } from \"../Modal/Modal\";\r\n// import {TeacherForm} from '../../Forms';\r\nimport Teacher from \"../Teacher/Teacher\";\r\nimport { useTeacherApi } from \"../../hooks/useApi\";\r\nimport useList from \"../../hooks/useList\";\r\nimport ModelForm from \"../../Forms/ModelForm\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\n\r\nconst TeacherList = () => {\r\n  const { show, toggleModal, hideModal } = useModal();\r\n  const { loading, index } = useTeacherApi();\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  const {\r\n    loadItems,\r\n    items: teachers,\r\n    changeItem,\r\n    removeItem,\r\n    prependItem,\r\n    MoreBtn,\r\n  } = useList();\r\n\r\n  useEffect(() => {\r\n    if (!loaded) {\r\n      loadItems(index);\r\n      setLoaded(true);\r\n    }\r\n  }, [loadItems, index, loaded]);\r\n\r\n  const createdHandler = (newItem) => {\r\n    hideModal();\r\n    prependItem(newItem);\r\n  };\r\n\r\n  return (\r\n    <div className=\"teacherWrapper\">\r\n      <AuthAdmin>\r\n        <Modal onHide={hideModal} show={show}>\r\n          <ModelForm\r\n            onDone={createdHandler}\r\n            modelName={{ fields: \"teacher\", label: \"Teacher\", api: \"teachers\" }}\r\n          />\r\n        </Modal>\r\n      </AuthAdmin>\r\n      <div className=\"teacherHeader\">\r\n        <h2>Teachers</h2>\r\n        <AuthAdmin>\r\n          <button onClick={toggleModal} className=\"btn\">\r\n            Create Teacher\r\n          </button>\r\n        </AuthAdmin>\r\n      </div>\r\n\r\n      <div className=\"teacherList\">\r\n        {loading && (\r\n          <div className=\"teacher\">\r\n            <span className=\"loader\" />\r\n          </div>\r\n        )}\r\n        {!loading && !teachers.length && <p>No teachers found</p>}\r\n        {teachers.map((t) => {\r\n          return (\r\n            <Teacher\r\n              onDelete={removeItem}\r\n              onUpdate={(data) => changeItem(t, data)}\r\n              teacher={t}\r\n              key={t.id}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <MoreBtn />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeacherList;\r\n","import React from \"react\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\n\r\nconst ShowDepartment = ({ department, onDelete, onUpdate }) => {\r\n  return (\r\n    <div className=\"showWrapper\">\r\n      <h2 className=\"showHeader\">{department.name}</h2>\r\n      <AuthAdmin>\r\n        <div className=\"actionsWrapper\">\r\n          <h4 className=\"actionsHeader\">Actions</h4>\r\n          <div className=\"actionsList\">\r\n            <button\r\n              onClick={() => onUpdate && onUpdate()}\r\n              className=\"actionBtn btnSuccess btn\"\r\n            >\r\n              Update\r\n            </button>\r\n            <button\r\n              onClick={() => onDelete && onDelete()}\r\n              className=\"actionBtn btnDanger btn\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </AuthAdmin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowDepartment;\r\n","import React from 'react';\r\nimport ModelForm from '../../Forms/ModelForm';\r\nimport {useDptApi} from '../../hooks/useApi';\r\nimport Modal, {useModal} from '../Modal/Modal';\r\nimport ShowDepartment from '../ShowDepartment/ShowDepartment';\r\nimport './Department.css';\r\n\r\nconst Department = ({dpt, onDelete, onUpdate}) => {\r\n  const {loading, destroy} = useDptApi ();\r\n  const {show, toggleModal, hideModal} = useModal ();\r\n  const {\r\n    show: showUpdate,\r\n    showModal: showUpdateModal,\r\n    hideModal: hideUpdateModal,\r\n  } = useModal ();\r\n\r\n  const modalShowHandler = () => {\r\n    hideModal ();\r\n    showUpdateModal ();\r\n  };\r\n\r\n  const deleteHandler = async () => {\r\n    const res = await destroy (dpt.id);\r\n    const data = await res.json ();\r\n    if (res.ok && data) {\r\n      onDelete (dpt);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dpt\">\r\n      {!loading\r\n        ? <React.Fragment>\r\n            <Modal onHide={hideModal} show={show}>\r\n              <ShowDepartment\r\n                onDelete={deleteHandler}\r\n                onUpdate={modalShowHandler}\r\n                department={dpt}\r\n              />\r\n            </Modal>\r\n            <Modal show={showUpdate} onHide={hideUpdateModal}>\r\n              <ModelForm\r\n                onDone={onUpdate}\r\n                modelName={'department'}\r\n                action=\"Update\"\r\n                instance={dpt}\r\n              />\r\n            </Modal>\r\n            <span onClick={toggleModal} className=\"dptName\">{dpt.name}</span>\r\n          </React.Fragment>\r\n        : <span className=\"loader\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Department;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./DepartmentList.css\";\r\n\r\nimport Modal, { useModal } from \"../Modal/Modal\";\r\nimport Department from \"../Department/Department\";\r\nimport { useDptApi } from \"../../hooks/useApi\";\r\nimport useList from \"../../hooks/useList\";\r\nimport ModelForm from \"../../Forms/ModelForm\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\n\r\nconst DepartmentList = () => {\r\n  const { loading, index } = useDptApi();\r\n  const { show, hideModal, toggleModal } = useModal();\r\n  const {\r\n    loadItems,\r\n    items: departments,\r\n    changeItem,\r\n    prependItem,\r\n    MoreBtn,\r\n    removeItem,\r\n  } = useList();\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!loaded) {\r\n      loadItems(index);\r\n      setLoaded(true);\r\n    }\r\n  }, [index, loadItems, loaded]);\r\n\r\n  const createdHandler = (newItem) => {\r\n    hideModal();\r\n    prependItem(newItem);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dptWrapper\">\r\n      <AuthAdmin>\r\n        <Modal show={show} onHide={hideModal}>\r\n          <ModelForm onDone={createdHandler} modelName=\"department\" />\r\n        </Modal>\r\n      </AuthAdmin>\r\n      <div className=\"dptHeader\">\r\n        <h2>Departments</h2>\r\n        <AuthAdmin>\r\n          <button onClick={toggleModal} className=\"btn\">\r\n            Create department\r\n          </button>\r\n        </AuthAdmin>\r\n      </div>\r\n      <div className=\"dptList\">\r\n        {loading && (\r\n          <div className=\"dpt\">\r\n            <span className=\"loader\" />\r\n          </div>\r\n        )}\r\n        {!loading && !departments.length && <p>No departments found</p>}\r\n        {departments.map((dpt) => (\r\n          <Department\r\n            onUpdate={(data) => changeItem(dpt, data)}\r\n            onDelete={removeItem}\r\n            dpt={dpt}\r\n            key={dpt.id}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      <MoreBtn />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DepartmentList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDptApi, useTeacherApi } from \"../../hooks/useApi\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\nimport DetailList from \"../DetailList/DetailList\";\r\n\r\nconst ShowModule = ({ module, onUpdate, onDelete }) => {\r\n  const { loading: teacherLoading, show: showTeacher } = useTeacherApi();\r\n  const { loading: dptLoading, show: showDpt } = useDptApi();\r\n  const [teacherLoaded, setTeacherLoaded] = useState(false);\r\n  const [dptLoaded, setDptLoaded] = useState(false);\r\n  const [details, setDetails] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (!teacherLoaded) {\r\n      showTeacher(module.teacher_id).then(async (res) => {\r\n        const data = await res.json();\r\n        const teacherData = { tags: [{ name: data.name }] };\r\n        setDetails((details) => ({ ...details, teacher: teacherData }));\r\n      });\r\n      setTeacherLoaded(true);\r\n    }\r\n  }, [teacherLoaded, showTeacher, module]);\r\n\r\n  useEffect(() => {\r\n    if (!dptLoaded) {\r\n      showDpt(module.foculty_id).then(async (res) => {\r\n        const data = await res.json();\r\n        const dptData = { tags: [{ name: data.name }] };\r\n        setDetails((details) => ({ ...details, department: dptData }));\r\n      });\r\n      setDptLoaded(true);\r\n    }\r\n  }, [dptLoaded, showDpt, module]);\r\n\r\n  return (\r\n    <div className=\"showWrapper\">\r\n      <h2 className=\"showHeader\">{module.name}</h2>\r\n      {!(teacherLoading || dptLoading) && <DetailList details={details} />}\r\n      {(teacherLoading || dptLoading) && <span className=\"loader\"></span>}\r\n      <AuthAdmin>\r\n        <div className=\"actionsWrapper\">\r\n          <h4 className=\"actionsHeader\">Actions</h4>\r\n          <div className=\"actionsList\">\r\n            <button\r\n              onClick={() => onUpdate && onUpdate()}\r\n              className=\"actionBtn btnSuccess btn\"\r\n            >\r\n              Update\r\n            </button>\r\n            <button\r\n              onClick={() => onDelete && onDelete()}\r\n              className=\"actionBtn btnDanger btn\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </AuthAdmin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowModule;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useModuleApi, useStudentApi} from '../../hooks/useApi';\r\nimport useList from '../../hooks/useList';\r\nimport './ModuleMarks.css';\r\n\r\nconst ModuleMarks = ({module}) => {\r\n  const {loading, listMarks} = useModuleApi ();\r\n  const {loadItems, items: marks} = useList ();\r\n  const [loaded, setLoaded] = useState (false);\r\n\r\n  useEffect (\r\n    () => {\r\n      if (!loaded) {\r\n        loadItems (() => listMarks (module.id));\r\n        setLoaded (true);\r\n      }\r\n    },\r\n    [loaded, listMarks, module, loadItems]\r\n  );\r\n\r\n  return (\r\n    <div className=\"showWrapper marksShowWrapper\">\r\n      <h2>{module.name}</h2>\r\n      {loading && <span className=\"loader\" />}\r\n      {!loading && marks.length === 0 ? 'No marks yet.' : ''}\r\n      {!loading && marks.length\r\n        ? <div className=\"marksListWrapper\">\r\n            <ModuleMarkTable>\r\n              {marks.map (mark => {\r\n                return <ModuleMark module={module} mark={mark} key={mark.id} />;\r\n              })}\r\n            </ModuleMarkTable>\r\n          </div>\r\n        : ''}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ModuleMarkTable = ({children}) => {\r\n  return (\r\n    <table className=\"markTable\">\r\n      <thead>\r\n        <tr>\r\n          <th>Student Name</th>\r\n          <th>Semester</th>\r\n          <th>Year</th>\r\n          <th>Formative Ass. /50</th>\r\n          <th>Summative Ass. /50</th>\r\n          <th>Total /100</th>\r\n          <th>Decision</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{children}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport const ModuleMark = ({mo, mark}) => {\r\n  const [student, setStudent] = useState ({});\r\n  const [loaded, setLoaded] = useState (false);\r\n  const {loading, show} = useStudentApi ();\r\n\r\n  useEffect (\r\n    () => {\r\n      if (!loaded) {\r\n        show (mark.module_id).then (async res => {\r\n          const data = await res.json ();\r\n          setStudent (data);\r\n        });\r\n        setLoaded (true);\r\n      }\r\n    },\r\n    [student, mark, show, loaded]\r\n  );\r\n\r\n  return loading\r\n    ? <tr className=\"loader\" />\r\n    : <tr>\r\n        <td>{student.name}</td>\r\n        <td>{mark.semester || 0}</td>\r\n        <td>{mark.academic_year || 0}</td>\r\n        <td>{mark.formative || 0}</td>\r\n        <td>{mark.summative || 0}</td>\r\n        <td>{mark.total || 0}</td>\r\n        <td>{mark.decision ? 'Pass' : 'Retake'}</td>\r\n      </tr>;\r\n};\r\nexport default ModuleMarks;\r\n","import React from 'react';\r\nimport './Module.css';\r\n\r\nimport Modal, {useModal} from '../Modal/Modal';\r\nimport ShowModule from '../ShowModule/ShowModule';\r\nimport ModelForm from '../../Forms/ModelForm';\r\nimport ModuleMarks from '../ModuleMarks/ModuleMarks';\r\nimport {useModuleApi} from '../../hooks/useApi';\r\n\r\nconst Module = ({module, onDelete, onUpdate}) => {\r\n  const {loading, destroy} = useModuleApi ();\r\n  const {\r\n    show: moduleShow,\r\n    toggleModal: toggleShowModule,\r\n    hideModal: hideModule,\r\n  } = useModal ();\r\n\r\n  const {\r\n    show: showUpdate,\r\n    showModal: showUpdateModal,\r\n    hideModal: hideUpdateModal,\r\n  } = useModal ();\r\n\r\n  const {\r\n    show: showMarks,\r\n    toggleModal: toggleMarksModal,\r\n    hideModal: hideMarksModal,\r\n  } = useModal ();\r\n\r\n  const modalShowHandler = () => {\r\n    hideModule ();\r\n    showUpdateModal ();\r\n  };\r\n\r\n  const deleteHandler = async () => {\r\n    const res = await destroy (module.id);\r\n    const data = await res.json ();\r\n    if (res.ok && data) {\r\n      onDelete (module);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"module\">\r\n      {loading && <span className=\"loader\" />}\r\n      {!loading &&\r\n        <React.Fragment>\r\n          <Modal onHide={hideModule} show={moduleShow}>\r\n            <ShowModule\r\n              onDelete={deleteHandler}\r\n              onUpdate={modalShowHandler}\r\n              module={module}\r\n            />\r\n          </Modal>\r\n\r\n          <Modal show={showUpdate} onHide={hideUpdateModal}>\r\n            <ModelForm\r\n              onDone={onUpdate}\r\n              modelName={'module'}\r\n              action=\"Update\"\r\n              instance={module}\r\n            />\r\n          </Modal>\r\n          <Modal show={showMarks} onHide={hideMarksModal}>\r\n            <ModuleMarks module={module} />\r\n          </Modal>\r\n\r\n          <span onClick={toggleShowModule} className=\"moduleName\">\r\n            {module.name}\r\n          </span>\r\n          <div className=\"moduleBtns\">\r\n            <button\r\n              onClick={toggleMarksModal}\r\n              className=\"btn viewMarksBtn btnSm\"\r\n            >\r\n              View Marks\r\n            </button>\r\n          </div>\r\n        </React.Fragment>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Module;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./ModuleList.css\";\r\n\r\nimport Modal, { useModal } from \"../Modal/Modal\";\r\nimport Module from \"../Module/Module\";\r\nimport { useModuleApi } from \"../../hooks/useApi\";\r\nimport useList from \"../../hooks/useList\";\r\nimport ModelForm from \"../../Forms/ModelForm\";\r\nimport AuthAdmin from \"../AuthAdmin/AuthAdmin\";\r\n\r\nconst ModuleList = () => {\r\n  const { show, toggleModal, hideModal } = useModal();\r\n  const { loading, index } = useModuleApi();\r\n  const {\r\n    loadItems,\r\n    items: modules,\r\n    changeItem,\r\n    removeItem,\r\n    prependItem,\r\n    MoreBtn,\r\n  } = useList();\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!loaded) {\r\n      loadItems(index);\r\n      setLoaded(true);\r\n    }\r\n  }, [index, loadItems, loaded]);\r\n\r\n  const createdHandler = (newItem) => {\r\n    hideModal();\r\n    prependItem(newItem);\r\n  };\r\n\r\n  return (\r\n    <div className=\"moduleWrapper\">\r\n      <AuthAdmin>\r\n        <Modal onHide={hideModal} show={show}>\r\n          <ModelForm onDone={createdHandler} modelName=\"module\" />\r\n        </Modal>\r\n      </AuthAdmin>\r\n      <div className=\"moduleHeader\">\r\n        <h2 className=\"moduleHeader\">Modules</h2>\r\n        <AuthAdmin>\r\n          <button onClick={toggleModal} className=\"btn\">\r\n            Create Module\r\n          </button>\r\n        </AuthAdmin>\r\n      </div>\r\n      <div className=\"moduleList\">\r\n        {loading && (\r\n          <div className=\"module\">\r\n            <span className=\"loader\" />\r\n          </div>\r\n        )}\r\n        {!loading && !modules.length && <p>No modules found</p>}\r\n        {modules.map((mod) => (\r\n          <Module\r\n            onDelete={removeItem}\r\n            onUpdate={(data) => changeItem(mod, data)}\r\n            module={mod}\r\n            key={mod.name}\r\n          />\r\n        ))}\r\n      </div>\r\n      <MoreBtn />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModuleList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./View.css\";\r\n\r\nimport Hide from \"../../components/Hide/Hide\";\r\nimport StudentList from \"../../components/StudentList/StudentList\";\r\nimport TeacherList from \"../../components/TeacherList/TeacherList\";\r\nimport DepartmentList from \"../../components/DepartmentList/DepartmentList\";\r\nimport ModuleList from \"../../components/ModuleList/ModuleList\";\r\nimport AuthAdmin from \"../../components/AuthAdmin/AuthAdmin\";\r\nimport AuthIn from \"../../components/AuthIn/AuthIn\";\r\nimport { useUser } from \"../../Contexts/AuthContext\";\r\n\r\nconst View = () => {\r\n  const [viewType, setViewType] = useState(\"student\");\r\n  const [viewTypeSet, setViewTypeSet] = useState(false);\r\n  const user = useUser();\r\n\r\n  useEffect(() => {\r\n    if (!user || viewTypeSet) return undefined;\r\n    if (user.type === \"admin\" || user.type === \"teacher\") {\r\n      viewType !== \"departments\" && setViewType(\"department\");\r\n    } else if (user.type === \"student\") {\r\n      viewType !== \"modules\" && setViewType(\"module\");\r\n    }\r\n    setViewTypeSet(true);\r\n  }, [user, viewType, viewTypeSet]);\r\n\r\n  return (\r\n    <div>\r\n      {/* <h1 className=\"viewHeader\">View</h1> */}\r\n      {/* <span className=\"loader\"></span> */}\r\n      <div className=\"viewBtnWrapper\">\r\n        <AuthIn userTypes={[\"admin\", \"teacher\"]}>\r\n          <button\r\n            onClick={() => setViewType(\"department\")}\r\n            className={`${\r\n              viewType === \"department\" ? \"active\" : \"\"\r\n            } btn viewBtn`}\r\n          >\r\n            Departments\r\n          </button>\r\n        </AuthIn>\r\n        <button\r\n          onClick={() => setViewType(\"module\")}\r\n          className={`${viewType === \"module\" ? \"active\" : \"\"} btn viewBtn`}\r\n        >\r\n          Modules\r\n        </button>\r\n        <AuthIn userTypes={[\"admin\", \"teacher\"]}>\r\n          <button\r\n            onClick={() => setViewType(\"student\")}\r\n            className={`${viewType === \"student\" ? \"active\" : \"\"} btn viewBtn`}\r\n          >\r\n            Students\r\n          </button>\r\n        </AuthIn>\r\n        <AuthAdmin>\r\n          <button\r\n            onClick={() => setViewType(\"teacher\")}\r\n            className={`${viewType === \"teacher\" ? \"active\" : \"\"} btn viewBtn`}\r\n          >\r\n            Teachers\r\n          </button>\r\n        </AuthAdmin>\r\n      </div>\r\n      <Hide show={viewType === \"\"}>\r\n        <h4>Click to view any of those.</h4>\r\n      </Hide>\r\n      <AuthIn userTypes={[\"admin\", \"teacher\"]}>\r\n        <Hide show={viewType === \"student\"} Component={StudentList} />\r\n      </AuthIn>\r\n      <AuthAdmin>\r\n        <Hide show={viewType === \"teacher\"} Component={TeacherList} />\r\n      </AuthAdmin>\r\n      <Hide show={viewType === \"module\"} Component={ModuleList} />\r\n      <AuthIn userTypes={[\"admin\", \"teacher\"]}>\r\n        <Hide show={viewType === \"department\"} Component={DepartmentList} />\r\n      </AuthIn>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default View;\r\n","import React, { useContext, useState } from 'react'\r\n\r\nconst MessageContext = React.createContext([])\r\nconst MessageUpdateContext = React.createContext()\r\n\r\n\r\nexport const useMsgCtx = () => {\r\n    return useContext(MessageContext)\r\n}\r\n\r\nexport const useUpdateMsgCtx = () => {\r\n    return useContext(MessageUpdateContext)\r\n}\r\n\r\n\r\nconst MessageProvider = ({ children }) => {\r\n    const [messages, setMessages] = useState([])\r\n\r\n    const appendMsg = (msg) => {\r\n        msg.id = Math.random() * 1000\r\n        setMessages([...messages, msg])\r\n    }\r\n    \r\n    const prependMsg = (msg) => {\r\n        msg.id = Math.random() * 1000\r\n        setMessages([msg, ...messages])\r\n    }\r\n\r\n    const removeMsg = (msg) => {\r\n        setMessages(messages.filter(m => m.id !== msg.id))\r\n    }\r\n\r\n    const clearAll = () => {\r\n        setMessages([])\r\n    }\r\n\r\n    return <MessageContext.Provider value={messages}>\r\n        <MessageUpdateContext.Provider value={{appendMsg, prependMsg, removeMsg, clearAll}}>\r\n            { children }\r\n        </MessageUpdateContext.Provider>\r\n    </MessageContext.Provider>\r\n}\r\n\r\nexport default MessageProvider\r\n","import React from 'react';\r\nimport './Auth.css';\r\nimport {getClone} from '../../Forms/fields';\r\nimport Form from '../../Forms/Form/Form';\r\nimport useForm from '../../hooks/useForm';\r\nimport {useAuthApi} from '../../hooks/useApi';\r\nimport {useUserUpdate} from '../../Contexts/AuthContext';\r\nimport useToken from '../../hooks/useToken';\r\n\r\nconst Login = () => {\r\n  const {loading, login} = useAuthApi ();\r\n  const {\r\n    msg,\r\n    fields,\r\n    data: body,\r\n    setMsg,\r\n    setValue,\r\n    errorHandler,\r\n    reset,\r\n  } = useForm ('', getClone ('login'));\r\n  const { saveToken } = useToken()\r\n  const updateUser = useUserUpdate ();\r\n\r\n  const submitHandler = async e => {\r\n    e.preventDefault ();\r\n    const res = await login (JSON.stringify (body));\r\n    const data = await res.json ();\r\n    if (res.ok) {\r\n      msg && setMsg('')\r\n      updateUser (data.user);\r\n      saveToken(data.token)\r\n      reset ();\r\n    } else {\r\n      setMsg(data?.message||'')\r\n      errorHandler (data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"authWrapper\">\r\n      <h2 className=\"authHeader\">Login</h2>\r\n      <form className=\"authForm\">\r\n        {msg && <h5 className=\"formMsg danger\">{msg}</h5>}\r\n        <Form setValue={setValue} fields={fields} />\r\n        <button onClick={submitHandler} className=\"btn authBtn btnBlock\">\r\n          {loading ? 'Logging in ...' : 'Login'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav/Nav\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n  useHistory,\n  useLocation,\n} from \"react-router-dom\";\n\nimport { Home, Account, View } from \"./pages\";\nimport MessageProvider from \"./Contexts/MessageContext\";\nimport UserProvider, { useUser, useUserUpdate } from \"./Contexts/AuthContext\";\nimport Login from \"./pages/Auth/Login\";\nimport { useAuthApi } from \"./hooks/useApi\";\nimport Modal, { useModal } from \"./components/Modal/Modal\";\nimport useToken from \"./hooks/useToken\";\n// import AuthIn from \"./components/AuthIn/AuthIn\";\n// import Messages from './components/Messages/Messages'\n\nfunction App() {\n  return (\n    <UserProvider>\n      <MessageProvider>\n        {/* <Messages /> */}\n        <Router>\n          <Switch>\n            <Route\n              path=\"/home\"\n              exact\n              component={() => (\n                <Layout>\n                  <Home />\n                </Layout>\n              )}\n            />\n            <Route\n              path=\"/view\"\n              exact\n              component={() => (\n                <Layout>\n                  <View />\n                </Layout>\n              )}\n            />\n            <Route\n              path=\"/Login\"\n              exact\n              component={() => (\n                <Layout>\n                  <Login />\n                </Layout>\n              )}\n            />\n            <Route\n              path=\"/account\"\n              exact\n              component={() => (\n                <Layout>\n                  <Account />\n                </Layout>\n              )}\n            />\n            <Redirect to=\"/home\" />\n          </Switch>\n        </Router>\n      </MessageProvider>\n    </UserProvider>\n  );\n}\n\nfunction Layout({ children }) {\n  const { loading, currentUser } = useAuthApi();\n  const [userLoaded, setUserLoaded] = useState(false);\n  const user = useUser();\n  const updateUser = useUserUpdate();\n  const { show, hideModal, showModal } = useModal();\n  const history = useHistory();\n  const location = useLocation();\n  const { hasToken } = useToken();\n\n  useEffect(() => {\n    if (!hasToken()) {\n      if (location.pathname !== \"/login\") {\n        history.push(\"/login\");\n      }\n      return undefined;\n    }\n    if (!user && !userLoaded) {\n      currentUser().then(async (res) => {\n        if (!res.ok && res.status === 401) {\n          if (location.pathname !== \"/login\") {\n            history.push(\"/login\");\n          }\n          return;\n        }\n        const user = await res.json();\n        if (user) {\n          updateUser(user);\n        } else {\n          if (location.pathname !== \"/login\") {\n            history.push(\"/login\");\n          }\n        }\n      });\n      setUserLoaded(true);\n    }\n  }, [user, userLoaded, location, hasToken, currentUser, history, updateUser]);\n\n  useEffect(() => {\n    if ((!loading && userLoaded) || user) {\n      hideModal();\n    } else {\n      !show && showModal();\n    }\n  }, [loading, show, user, userLoaded, hideModal, showModal]);\n\n  useEffect(() => {\n    if (user && location.pathname === \"/login\") {\n      history.push(\"/home\");\n    }\n  }, [user, history, location]);\n\n  return (\n    <main className=\"appWrapper\">\n      <Modal show={loading} onHide={() => null}>\n        <div className=\"loginLoader\">\n          <span className=\"loader\"></span>\n          {/* <p style={{marginTop: '0rem'}}>Authenticating...</p> */}\n        </div>\n      </Modal>\n      {(user || location.pathname === \"/login\") && (\n        <React.Fragment>\n          <Nav />\n          <div className=\"content\">\n            <div className=\"contentWrapper\">{children}</div>\n          </div>\n          <footer>\n            <span>&copy;UR - 2021 | ISHIMWE Valentin</span>\n          </footer>\n        </React.Fragment>\n      )}\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>, \n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}